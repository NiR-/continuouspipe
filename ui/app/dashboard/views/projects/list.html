<md-toolbar>
    <div class="md-toolbar-tools">
        <h2>
            <span ng-show="projects">{{ projects.length }} project(s)</span>
            <span ng-hide="projects">Loading...</span>
        </h2>
        <span flex></span>
        <md-button class="md-raised" aria-label="Create a project" ui-sref="create-project"><md-icon>add</md-icon> Create a project</md-button>
    </div>
</md-toolbar>
<md-content flex id="content" class="card-grid">
    <div class="zero-content-help" ng-if="projects.length == 0">
        <i class="cp-icon-arrow-right-up top-right-arrow"></i>
        <h3>No project yet, you should create one!</h3>
        <p>A project is a logical group of different <em>flows</em>. It will help you to organise your different flows.</p>
    </div>
    <remote-resource resource-name="projects">
        <div class="list-items" ng-if="projects.length != 0">
            <div class="list-items-header">
                <div class="list-col-8">Name</div>
                <div class="list-col-2">Number of users</div>
            </div>

            <div class="list-item clickable" ng-repeat="project in projects | orderBy:'name'" ui-sref="flows({project: project.slug})">
                <div class="list-col-8">
                    <md-icon class="md-avatar-icon"><i class="material-icons">group</i></md-icon>
                    <span>{{ project.name || project.slug }}</span>
                </div>
                <div class="list-col-2">
                    <span>{{ project.memberships.length }}</span>
                </div>
            </div>
        </table>
    </remote-resource>
</md-content>
